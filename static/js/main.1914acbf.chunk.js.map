{"version":3,"sources":["pages/Login.js","Components/Loading/Loading.js","Components/Comment/Comment.js","Components/AddComment/AddComment.js","Components/Post/Post.js","Components/Container/ContainerPost.js","Components/PostFrom/PostFrom.js","pages/Main.js","Components/ContainerOwned/Owned.js","pages/Posts.js","Components/Navbar/Navbar.js","Components/Layout.js/Layout.js","App.js","index.js"],"names":["authURl","showAlertEmptyParameters","swal","title","text","icon","button","timer","ShowAlertError","response","message","status","Login","navigate","useNavigate","username","useRef","password","useState","on","isOn","e","a","preventDefault","usernameValue","current","value","passwordValue","axios","post","localStorage","setItem","data","token","role","className","onSubmit","htmlFor","id","placeholder","type","ref","onClick","z","document","getElementById","Loading","size","Comment","info","description","user","AddComment","afterSubmit","inputVal","setInputVal","body","patch","headers","Authorization","getItem","onChange","target","Post","struct","_id","image","createdAt","likes","comments","includes","liked","setLiked","length","likesCount","setLikesCount","showComments","setShowComments","commentState","setCommentState","console","log","Date","toLocaleDateString","src","alt","map","it","shortid","generate","comment","val","ContainerPost","setPosts","useEffect","get","getPosts","PostFrom","formData","FormData","Object","fromEntries","entries","alert","active","res","classsName","name","Main","whoami","setWhoami","isVisibleForm","setIsvisibleForm","Autorization","getIdentity","Owned","Posts","Navbar","Layout","App","element","exact","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1914acbf.chunk.js","sourcesContent":["import React, { useRef, useState } from 'react';\nimport { FaTruckMonster, FaUserCircle } from 'react-icons/fa';\nimport { FaKey } from 'react-icons/fa';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { useNavigate } from 'react-router-dom';\nimport { AiFillEyeInvisible, AiFillEye } from 'react-icons/ai';\n// url de la API https://posts-pw2021.herokuapp.com/\n//creamos la Url bases para utilizar en el proyecto\n//repo https://github.com/TestClasss/evaluacion8proyectofinal-grupo50.git\nconst postURl = 'https://posts-pw2021.herokuapp.com/api/v1/post';\nconst authURl = 'https://posts-pw2021.herokuapp.com/api/v1/auth';\n\n\n\n//Creamos el componente login \nconst Login = () => {\n    const navigate = useNavigate();\n    //creamos una referencia para el input de usuario\n    const username = useRef(null);\n    const password = useRef(null);\n\n    //usamos un estado para el icono de vista de contraseña\n    const [on, isOn] = useState(true);\n\n\n    let text = '';\n\n    async function onSubmit(e) {\n        e.preventDefault();\n\n\n\n        const usernameValue = username.current.value;\n        const passwordValue = password.current.value;\n\n        //caso que no se llenen los campos se muestra una alerta\n        if (usernameValue === '' || passwordValue === '') {\n            showAlertEmptyParameters();\n        }\n\n\n        //hacemos la peticion de login usando axios\n        try {\n            const response = await axios.post(`${authURl}/signin`,\n                {\n                    //mandamos el usuario y contraseña\n                    username: usernameValue,\n                    password: passwordValue\n                });\n            //mandamos el token retornda por la api al localstorage\n            if (response.status === 200) {\n                localStorage.setItem('token', response.data.token);\n                localStorage.setItem('role', response.data.role);\n                navigate('/');\n            }\n        } catch (error) {\n            ShowAlertError(error.response);\n        }\n    }\n\n    return (\n        <form className=\"text-black flex flex-col justify-center mx-auto items-center w-80 h-screen max-w-screen-sm md:w-auto\"\n            onSubmit={onSubmit}>\n            <div className=\"flex flex-col space-y-1 my-2\">\n                <label htmlFor=\"l-username\" className=\"text-lg font-medium font-mono inline-flex\">\n                    <FaUserCircle className=\"mr-1\" /> Username\n                </label>\n                <input className=\"border-2 rounded-lg\" id=\"l-username\" placeholder=\"Username\" type=\"text\" ref={username} />\n            </div>\n\n            <div className=\"flex flex-col space-y-1 justify-center ml-4\">\n\n                <label htmlFor=\"l-password\" className=\"text-lg font-medium font-mono inline-flex\" >\n                    <FaKey className=\"mr-1\" /> Password\n                </label>\n\n                <div className=\"inline-flex justify-center items-center\">\n                    <input className=\"border-2 rounded-lg\" id=\"l-password\" placeholder=\"Password\" type={text} ref={password} />\n                    {\n                        on ? <AiFillEyeInvisible className=\"w-5 h-5 ml-2\" onClick={() => {\n                            var z = document.getElementById(\"l-password\");\n                            isOn(!on)\n                            z.type = 'text'\n                        }} /> :\n                            <AiFillEye className=\"w-5 h-5\" onClick={() => {\n                                var z = document.getElementById(\"l-password\");\n                                isOn(!on)\n                                z.type = 'password'\n                            }} />\n                    }\n                </div>\n\n            </div>\n\n            <button className=\"w-full bg-black text-white rounded-2xl py-2 my-3\" type=\"submit\">Login</button>\n        </form>\n    );\n}\n\n//funcion para mostrar alerta\nconst showAlertEmptyParameters = () => {\n    swal({\n        title: \"Parametros vacios\",\n        text: \"Por favor llene todos los campos\",\n        icon: \"warning\",\n        button: \"Aceptar\",\n        timer: 3000\n    });\n}\n\n//creamos la funcion para mostrar alerta de error\nconst ShowAlertError = (response) => {\n    let message = '';\n    let title = '';\n\n    if (response.status === 401) {\n        message = 'Usuario o contraseña incorrectos';\n        title = 'Error 401';\n    }\n    else if (response.status === 500) {\n        message = 'Error del servidor';\n        title = 'Error 500';\n    }\n    else if (response.status === 404) {\n        title = 'Error 404';\n        message = 'Usuario no encontrado';\n    }\n    swal({\n        title: title,\n        text: message,\n        icon: \"error\",\n        button: \"Aceptar\",\n        timer: 3000\n    });\n}\n\nexport default Login;","import React from \"react\";\nimport {IoMdRefreshCircle} from \"react-icons/io\";\n\nconst Loading = () => (\n    <div className=\"flex flex-col justify-center items-center absolute top-0 left-0 z-20 bg-white h-screen w-screen\">\n        <IoMdRefreshCircle className=\"text-black animate-spin\" size={50}/>\n        <h1 className=\"font-bold text-3xl\">Loading....</h1>\n    </div>\n)\n\nexport default Loading;","import React from 'react';\n\nconst Comment = ({ info }) => {\n    const { description, user } = info;\n\n    return (\n        <div className=\"w-full border-t my-3\">\n            <h1 className=\"mt-2 text-black text-sm font-medium text-blue-400\">\n                @\n                { user?.username }\n            </h1>\n            <p className=\"text-xs pl-4\">{ description }</p>\n        </div>\n    );\n};\n\nexport default Comment;","import axios from 'axios';\nimport React, { useState } from 'react';\n\nconst AddComment = ({ post, afterSubmit }) => {\n    const [inputVal, setInputVal] = useState('');\n\n    function onChange(e) {\n        setInputVal(e.target.value);\n    }\n\n    async function onSubmit(e) {\n        e.preventDefault();\n\n        const body = {\n            description: inputVal,\n        };\n\n        await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/comment/${post}`, body, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\n            },\n        });\n\n        setInputVal('');\n\n        afterSubmit(body);\n    }\n\n    return (\n        <form className=\"w-full\" onSubmit={onSubmit}>\n            <input\n                value={inputVal}\n                onChange={onChange}\n                className=\"px-4 py-2 w-full rounded-2xl text-gray-800 border-2 border-blue-500 text-xs\"\n                type=\"text\"\n                placeholder=\"Presiona enter para comentar\"\n            />\n        </form>\n    );\n};\n\nexport default AddComment;","import shortid from 'shortid';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport {BsHeartFill} from 'react-icons/bs';\nimport {FaCommentAlt} from 'react-icons/fa';\nimport Comment from '../Comment/Comment';\nimport AddComment from '../AddComment/AddComment';\n\nconst Post = ({username, struct}) => {\n    const {_id, title, description, image, user, createdAt, likes, comments} = struct;\n\n    const [liked, setLiked] = useState(likes.includes({username}));\n    const [likesCount, setLikesCount] = useState(likes.length); \n    const [showComments, setShowComments] = useState(false);\n    const [commentState, setCommentState] = useState(comments);\n\n    function addComment(comment) {\n        const val = [...commentState, { ...comment, user: { username } }];\n\n        setCommentState(val);\n    }\n\n    async function likePost() {\n        try {\n            const { data } = await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/like/${_id}`, null, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\n                },\n            });\n\n            if (!liked) {\n                setLikesCount(likesCount + 1);\n                setLiked(true);\n            } else {\n                setLikesCount(likesCount - 1);\n                setLiked(false);\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    async function addFav(){\n        try{\n            const { data } = await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/fav/${_id}`, null, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\n                },\n            });\n\n        }\n        catch(error){\n            console.log(error);\n        }\n    }\n    \n    return (\n        <div className=\"flex flex-col bg-red-400 bg-opacity-30 rounded-2xl w-full md:w-72 lg:w-96 p-4 text-black my-4\">\n            <div className=\"w-full flex space-around font-bold text-black\">\n                <h1 className=\"w-1/2\">\n                    @\n                    {user?.username}\n                </h1>\n                <h2 className=\"text-right w-1/2\">{ new Date(createdAt).toLocaleDateString() }</h2>\n            </div>\n            {\n                image && <img className=\"w-full h-40 object-cover my-2 rounded-2xl\" src={image} alt=\"imagen cualquiera\" />\n            }\n            <div className=\"w-full flex flex-col font-medium text-sm space-y-2\">\n                <h1 className=\"\">{ title }</h1>\n                <h2 className=\"font-normal text-xs\">{ description }</h2>\n            </div>\n            <div className=\"w-full mt-4 flex text-white justify-center\">\n                <button\n                    onClick={likePost}\n                    type=\"button\"\n                    className={`flex space-x-2 text-xs justify-center items-center w-1/2 ${liked && 'text-red-600'}`}\n                >\n                    <span><BsHeartFill className=\"mr-2 w-5 h-5 mx-0\" /></span>\n                    { likesCount }\n                </button>\n                <button\n                    onClick={() => setShowComments(!showComments)}\n                    type=\"button\"\n                    className={`flex space-x-2 text-xs justify-centAiOutlineHearter items-center w-1/2 ${showComments && 'text-blue-400'}`}\n                >\n                    <span><FaCommentAlt className=\"mr-2 text-black w-5 h-5 mx-0\" /></span>\n                    { commentState.length }\n                </button>\n            </div>\n            <div className={`${!showComments && 'hidden'} mt-4 w-full flex flex-col items-start`}>\n                {\n                    comments && commentState.map((it) => (\n                        <Comment\n                            key={shortid.generate()}\n                            info={it}\n                        />\n                    ))\n                }\n                <AddComment post={_id} afterSubmit={addComment} />\n            </div>\n        </div>\n    );\n\n};\n\nexport default Post;\n\n//  <h1>hola panas bienvenidos</h1>\n// <AiFillHeart className=\"text-red-500 \" size=\"1.5em\"/>","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Loading from \"../Loading/Loading\";\nimport Post from \"../Post/Post\"\n//const postURl = 'https://posts-pw2021.herokuapp.com/api/v1/post';\n//const authURl = 'https://posts-pw2021.herokuapp.com/api/v1/auth';\n\nconst ContainerPost = ({ username}) => {\n    const [post, setPosts] = useState({\n        status: \"loading\",\n        data: null,\n    });\n    \n    useEffect(() => {\n        async function getPosts() {\n            const { data} = await axios.get('https://posts-pw2021.herokuapp.com/api/v1/post/all?limit=10&page=1', {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\n                },\n            });\n\n            setPosts({ status: 'DONE', data: data.data });\n\n            \n        }\n        getPosts();\n    }\n    , []);\n\n\n    if (post.status === \"loading\") {\n        return <Loading />\n    }\n\n    return (\n        <div className=\"flex flex-col px-6 py-10 justify-center items-center\">\n            {\n                post.data && post.data.map((it) => ( <Post username={username} struct={it} key={it._id}/> )) \n            }\n        </div>\n    )\n}\n\nexport default ContainerPost;","import React from \"react\";\nimport { AiFillCheckCircle } from 'react-icons/ai';\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nconst PostFrom = () => {\n    async function onSubmit(e){\n        e.preventDefault();\n\n        const formData = new FormData(e.target);\n        const body = Object.fromEntries(formData.entries());\n        console.log(body);\n\n\n        if (body.title === '' || body.description === '') return alert('Asegurate de llenar el titulo y la descripcion');\n\n    \n        const res = await axios.post('https://posts-pw2021.herokuapp.com/api/v1/post/create',{ ...body, active: body.active === 'true' }, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\n            },\n        });\n\n        console.log(res);\n    }\n\n    return(\n        <form className=\"lg:w-96 rounded-2xl bg-black mt-4 p-4 font-bold space-y-3 rounded-lg\" onSubmit={onSubmit}>\n        <div className=\"flex flex-col text-sm\">\n            <label className=\"text-white\" htmlFor=\"title\">Título</label>\n            <input classsName=\"rounded-full text-gray-200 px-2 py-1 my-1 rounded-xl\" type=\"text\" name=\"title\" id=\"title\"></input>\n        </div>\n        <div className=\"flex flex-col text-sm\">\n            <label className=\"text-white\" htmlFor=\"description\">Descripción</label>\n            <input classsName=\"text-gray-700 ropunded-full px-2 py-1 my-1\" type=\"text\" name=\"description\" id=\"description\"></input>\n        </div>\n        <div className=\"flex flex-col text-sm\">\n            <label className=\"text-white\" htmlFor=\"image\">Imagen</label>\n            <input classsName=\"text-gray-700 ropunded-full px-2 py-1 my-1\" type=\"text\" name=\"image\" id=\"image\"></input>\n        </div>\n        <div className=\"flex flex-row text-sm items-center justify-center\">\n            <div className=\"flex text-sm w-1/3\">\n                <label className=\"text-white\" htmlFor=\"active\">Activo</label>\n                <input className=\"rounded-xl mx-2\"\n                type=\"checkbox\" name=\"active\" id=\"active\"></input>\n            </div>\n        \n                <button type=\"submit\" className=\"bg-blue-500 w-2/3 rounded-2xl text-center flex py-1 justify-center items-center font-bold\">\n                    <AiFillCheckCircle className=\"mr-2 h-5 w-5\" />\n                    Publicar\n                </button>\n        </div>\n    </form>\n    \n    )\n}\n\nconst showAlertEmptyParameters = () => {\n    swal({\n        title: \"Parametros vacios\",\n        text: \"Por favor llene todos los campos\",\n        icon: \"warning\",\n        button: \"Aceptar\",\n        timer: 3000\n    });\n}\n\nexport default PostFrom;","import axios from \"axios\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n//import Navbar from \"../Components/Navbar/Navbar.js\";\n//import Post from \"../Components/Post/Post.js\";\nimport ContainerPost from \"../Components/Container/ContainerPost.js\";\nimport { AiFillPlusCircle } from 'react-icons/ai';\nimport PostFrom from \"../Components/PostFrom/PostFrom.js\";\n\nconst Main = () => {\n    const [whoami, setWhoami] = useState();\n    const [isVisibleForm, setIsvisibleForm] = useState(false);\n    const navigate = useNavigate(); \n    const user = localStorage.getItem('token');\n    const role = localStorage.getItem('role');\n\n    //si el usuario no esta logueado lo redireccionamos a la pagina de login\n    useEffect(() => {\n        async function getIdentity(){\n            const {data} = await axios.get(`https://posts-pw2021.herokuapp.com/api/v1/auth/whoami\"`, {\n                headers: {\n                    Autorization: `Bearer ${user}`,\n                },\n            });\n            setWhoami(data.username);\n        }\n        if(user === null){\n            navigate('/login');\n\n        getIdentity();\n        } \n    },[]);\n\n    return(\n        <div>\n        {\n            role === 'admin'\n            && (\n                <div className=\"px-6\">\n                    <button\n                        onClick={() => setIsvisibleForm(!isVisibleForm)}\n                        type=\"button\"\n                        className=\"w-full md:w-72 lg:w-80 flex justify-center mt-3 p-4 bg-white bg-opacity-30 rounded-2xl\"\n                    >\n                        <AiFillPlusCircle className=\"stroke text-white h-6 w-6\" />\n                    </button>\n                    { isVisibleForm && <PostFrom /> }\n                </div>\n            )\n        }\n        <ContainerPost username={whoami} />\n    </div>\n    );\n  \n};\n\nexport default Main;","import React,{useEffect,useState} from 'react';\nimport axios from 'axios';\nimport Post from '../Post/Post';\nimport Loading from '../Loading/Loading';\n\n\nconst Owned = ({username}) => {\n\n    const [post, setPosts] = useState({\n        status: \"loading\",\n        data: null,\n    });\n\n    useEffect(() => {\n        async function getPosts() {\n            const { data} = await axios.get('https://posts-pw2021.herokuapp.com/api/v1/post/owned?limit=15&page=0', {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\n                },\n            });\n\n            setPosts({ status: 'DONE', data: data.data });\n\n            \n        }\n        getPosts();\n    }, []);\n\n    if (post.status === \"loading\") {\n        return <Loading />\n    }\n\n    return (\n        <div className=\"flex flex-col px-6 py-10 justify-center items-center\">\n            {\n                post.data && post.data.map((it) => ( <Post username={username} struct={it} key={it._id}/> )) \n            }\n        </div>\n    )\n}\n\nexport default Owned;","import React from 'react';\nimport Owned from '../Components/ContainerOwned/Owned.js';\n//import { useNavigate } from 'react-router-dom';\n\n// de momento es solo una prueba para el layout\nconst Posts = () => (\n    <>\n        <Owned username=\"gp50-admin\"/>\n    </>\n);\n\nexport default Posts;","import React, { useState } from \"react\";\nimport { TiThMenu } from \"react-icons/ti\";\nimport { GrFormClose } from \"react-icons/gr\";\n//import { isDOMComponent } from \"react-dom/test-utils\";\n\n//usaremos un navbar para el menu de navegacion\n//de momento tenemos tres opciones\n\nconst Navbar = () => {\n    //usasmos un estado para cambiar el icono del menu\n    const [on, isOn] = useState(false);\n    \n\n    return (\n        <nav className=\"w-screen flex flex-col items-end relative\">\n            <div className=\"w-full flex justify-between items-center\">\n                <h1 className=\"pl-4 text-white font-medium text-2xl\">Bienvenido nombre</h1>\n                {\n                    on\n                        ? <GrFormClose className=\"p-2 stroke text-white h-9 w-9 lg:h-15 lg:w-15\" onClick={() => isOn(!on)} />\n                        : <TiThMenu className=\"p-2 stroke text-black h-9 w-9 lg:h-15 lg:w-15 \" onClick={() => isOn(!on)} />\n                }\n            </div>\n            <ul className={`${on ? '' : 'hidden'} var text-white bg-black w-screen h-screen max-w-xs absloute nt-10 z-10`}>\n                <li className=\"font-bold text-xl h-20 flex justify-center items-center hover:bg-white hover:text-black\">Inicio</li>\n                <li className=\"font-bold text-xl h-20 flex justify-center items-center hover:bg-white hover:text-black\">Favoritos</li>\n                <li className=\"font-bold text-xl h-20 flex justify-center items-center hover:bg-white hover:text-black\">Mis Posts</li>\n\n            </ul>\n        </nav>\n    );\n}\n\nexport default Navbar;","import React from \"react\";\nimport Navbar from \"../Navbar/Navbar\";\nimport { Outlet } from \"react-router\";\n\n//el outlet sirve para que el router pueda renderizar el componente que le corresponda\n\n\nconst Layout = () => (\n    <>\n        <Navbar />\n        <div>\n            <Outlet />\n        </div>\n    </>\n)\nexport default Layout;","import React from 'react';\nimport './App.css';\nimport Login from './pages/Login';\nimport Main from './pages/Main';\nimport Posts from './pages/Posts';\nimport Layout from './Components/Layout.js/Layout';\nimport {\n  HashRouter as Router,\n  Routes,\n  Route,\n}from 'react-router-dom';\n\nconst App = () => (\n  <Router>  \n    <Routes>\n\n      <Route element={<Layout />}>\n        <Route exact path=\"/\" element={<Main />} />\n        <Route exact path=\"/Posts\" element={<Posts />} />  \n      </Route>\n\n      <Route exact path=\"/Login\" element={<Login />} />\n     \n    </Routes> \n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}